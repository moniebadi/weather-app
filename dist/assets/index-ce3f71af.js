(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&c(s)}).observe(document,{childList:!0,subtree:!0});function o(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(e){if(e.ep)return;e.ep=!0;const n=o(e);fetch(e.href,n)}})();const l=document.getElementsByTagName("form")[0],i=document.getElementsByTagName("input")[0],a=document.getElementById("list"),u=r=>`http://api.weatherapi.com/v1/search.json?key=90f57187a7384eaba4901536232803&q=${r}`;i.addEventListener("focus",()=>{a.classList.add("active")});i.addEventListener("blur",()=>{a.classList.remove("active")});i.addEventListener("keyup",r=>{const t=r.target.value;t&&t.length>2&&f(t)});l.addEventListener("submit",r=>{r.preventDefault();const t=i.value;t&&d(t)});window.addEventListener("load",async()=>{let r,t,o;if(navigator.geolocation){const c=await new Promise((e,n)=>{navigator.geolocation.getCurrentPosition(e,n)});r=c.coords.longitude,t=c.coords.latitude,o=`http://api.positionstack.com/v1/reverse?access_key=cd226765d0df76d452b529bfd4c424b8&query=${t},${r}`,fetch(o).then(e=>e.json()).then(e=>{const n=e.data[0].region;n&&d(n)}).catch(e=>{console.log({error})})}});const f=r=>{fetch(u(r)).then(t=>t.json()).then(t=>{for(let o=0;o<t.length;o++){const c=t[o];a.innerHTML+=`<span>${c.name}</span>`}})},d=r=>{const t=`https://api.weatherapi.com/v1/current.json?key=90f57187a7384eaba4901536232803&q=${r}&aqi=no`;fetch(t).then(o=>o.json()).then(o=>{weather=o,document.getElementById("location").innerHTML=`${weather.location.name} / ${weather.location.country}`,document.getElementById("degree").innerHTML=`${weather.current.temp_c} &#8451 / ${weather.current.temp_f} &#8457`,document.getElementById("icon").src=weather.current.condition.icon,document.getElementById("condition").innerHTML=weather.current.condition.text}).catch(o=>{console.log({error:o})})};
